<h1>Vue 3</h1><a id="vue-3" title="Vue 3"></a>
<div style="
    background-color: #FEF3C7; 
    border-left: 4px solid #F59E0B; 
    color: #92400E; 
    padding: 1rem; 
    border-radius: 0.375rem; 
    margin: 1.5rem 0;
">
    <p style="font-weight: bold; margin-bottom: 0.5rem;">Notice</p>
    <p>
        The support for <code>Vue</code> and <code>TailwindCSS</code> was removed from the core module in version <strong>0.7.5</strong>. 
        It is now recommended to use <code>Vite</code> for handling frontend assets and bundling. 
        Additionally, you can use the <code>@cmmv/vue</code> module to transpile the RPC mixins and composables required for Vue integration.
    </p>
</div>
<p>The <code>@cmmv/vue</code> module provides seamless integration with <a href="https://vuejs.org/" target="_blank" rel="nofollow">Vue 3</a> for building rich, reactive interfaces in your applications. This module enables you to leverage Vue’s ecosystem while integrating deeply with CMMV’s REST or RPC communication capabilities. The responsibility for generating and serving Vue 3 composables is fully handled by the <code>@cmmv/vue</code> module, promoting the use of modern frontend tooling like Vite for asset handling and efficient communication with the backend.</p>
<h2>Features</h2><a id="features" title="Features"></a>
<ul>
<li><strong>Vue 3 Integration:</strong> Full support for Vue 3, including its reactive system, composables, and templating syntax.</li>
<li><strong>Composable RPC API:</strong> Automatically generate composables for seamless communication with CMMV backend via REST or RPC using the <code>useRPC</code> hook.</li>
<li><strong>Frontend-First Architecture:</strong> Encourages modern tooling like Vite to handle assets and development workflows.</li>
<li><strong>Flexible Communication:</strong> Use CMMV as a proxy to facilitate REST or RPC communication in Vue applications.</li>
</ul>
<h2>Installation</h2><a id="installation" title="Installation"></a>
<p>To install the <code>@cmmv/vue</code> module:</p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-bash" lang="bash"">$ pnpm add @cmmv/vue vue
</code></pre>
             </div>
<p>Ensure you have <code>vite</code> installed for asset management:</p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-bash" lang="bash"">$ pnpm add -D vite
</code></pre>
             </div>
<h2>Configuration</h2><a id="configuration" title="Configuration"></a>
<p>Update your <code>.cmmv.config.js</code> to include the <code>@cmmv/vue</code> module. Remove any direct Vue 3 or TailwindCSS configurations from the <code>view</code> section, as those responsibilities now lie with the frontend tooling.</p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-javascript" lang="javascript""><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
    <span class="hljs-attr">env</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span>,

    <span class="hljs-attr">vue</span>: {
        <span class="hljs-attr">composableEndpoint</span>: <span class="hljs-string">&#x27;/assets/rpc-composable.min.js&#x27;</span>, <span class="hljs-comment">// Endpoint for generated composables</span>
    },
};
</code></pre>
             </div>
<h2>Setting Up Your Application</h2><a id="setting-up-your-application" title="Setting Up Your Application"></a>
<p>Include the <code>VueModule</code> in your application configuration. The module will handle generating composables for communication with the backend.</p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-typescript" lang="typescript""><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Application</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@cmmv/core&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DefaultAdapter</span>, <span class="hljs-title class_">DefaultHTTPModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@cmmv/http&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">VueModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@cmmv/vue&#x27;</span>;

<span class="hljs-title class_">Application</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">httpAdapter</span>: <span class="hljs-title class_">DefaultAdapter</span>,
    <span class="hljs-attr">modules</span>: [
        <span class="hljs-title class_">DefaultHTTPModule</span>,
        <span class="hljs-title class_">VueModule</span>,
    ],
});
</code></pre>
             </div>
<h2>Vue 2</h2><a id="vue-2" title="Vue 2"></a>
<p>The <code>@cmmv/vue</code> module also supports Vue 2 through the use of mixins, enabling smooth integration with CMMV’s backend services. For applications still using Vue 2, mixins are automatically generated and accessible via the <code>rpc-mixins.min.js</code> file.</p>
<h3>Using Mixins in Vue 2</h3>
<p>To integrate with Vue 2, dynamically import the mixins and include them in your Vue instance.</p>
<p><strong>HTML Template</strong></p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-html" lang="html""><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue 2 RPC Integration<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ example }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;fetchData&quot;</span>&gt;</span>Fetch Data<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/main.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
             </div>
<p><strong>main.js</strong></p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-javascript" lang="javascript""><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">initApp</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-keyword">const</span> { <span class="hljs-attr">default</span>: <span class="hljs-title class_">CMMVMixin</span> } = 
        <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;/assets/rpc-mixins.min.js&#x27;</span>);

    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
        <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,
        <span class="hljs-attr">mixins</span>: [<span class="hljs-title class_">CMMVMixin</span>],
        <span class="hljs-attr">data</span>: {
            <span class="hljs-attr">example</span>: <span class="hljs-string">&quot;Hello, Vue 2 with RPC!&quot;</span>,
        },
        <span class="hljs-attr">methods</span>: {
            <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"></span>) {
                <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">GetAllTaskRequest</span>();
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Fetched data:&quot;</span>, data);
            },
        },
        <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;App mounted with example:&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">example</span>);
        },
    });
};

<span class="hljs-title function_">initApp</span>();
</code></pre>
             </div>
<ul>
<li><strong>Mixins</strong>: Vue 2 relies on mixins instead of composables for injecting RPC methods into components.</li>
<li><strong>Lifecycle Hooks</strong>: Vue 2 uses <code>mounted</code> and other instance-based lifecycle hooks to manage initialization and state updates.</li>
<li><strong>Reactive Data</strong>: Data is managed through the <code>data</code> function and is bound to the DOM through Vue 2’s reactivity system.</li>
</ul>
<h3>Recommendations for Vue 2 Users</h3>
<br/>
<ul>
<li>Leverage mixins for seamless integration with CMMV backend services.</li>
<li>Use <code>rpc-mixins.min.js</code> to simplify backend communication without requiring manual RPC configuration.</li>
<li>Consider migrating to Vue 3 for access to the latest features, including composables and improved reactivity.</li>
</ul>
<h2>Vue 3</h2><a id="vue-3" title="Vue 3"></a>
<p>The <code>@cmmv/vue</code> module generates an <code>rpc-composable.min.js</code> file that can be used in your Vue application to integrate backend RPC calls via the <code>useRPC</code> composable.</p>
<h3>Example Vue 3 Application</h3>
<p>Install Vue:</p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-bash" lang="bash"">$ pnpm add vue
</code></pre>
             </div>
<p><strong>main.js</strong></p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-javascript" lang="javascript""><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">initApp</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-keyword">const</span> { useRPC } = 
        <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;/assets/rpc-composable.min.js&#x27;</span>);
    
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>({
        <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">const</span> rpc = <span class="hljs-title function_">useRPC</span>();
            <span class="hljs-keyword">const</span> example = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;Hello, Vue with RPC!&quot;</span>);

            <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {
                <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> rpc.<span class="hljs-title class_">GetAllTaskRequest</span>();
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Fetched data:&quot;</span>, data);
            };

            <span class="hljs-keyword">return</span> {
                example,
                fetchData,
            };
        },
    });

    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>);
};

<span class="hljs-title function_">initApp</span>();
</code></pre>
             </div>
<p><strong>HTML Template</strong></p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-html" lang="html""><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue RPC Integration<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/vue@3.5.12/dist/vue.global.prod.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ example }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;fetchData&quot;</span>&gt;</span>Fetch Data<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/main.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
             </div>
<h2>Nuxt</h2><a id="nuxt" title="Nuxt"></a>
<p>For Nuxt applications, dynamically import the composables into your client-side plugins.</p>
<h3>Installing Nuxt</h3>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-bash" lang="bash"">npx nuxi init nuxt-rpc
<span class="hljs-built_in">cd</span> nuxt-rpc
pnpm install
</code></pre>
             </div>
<h3>Adding CMMV Composables Plugin</h3>
<p><strong>plugins/cmmv-composables.client.ts</strong></p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-javascript" lang="javascript""><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtPlugin</span>(<span class="hljs-title function_">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> { useRPC } = 
        <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;http://localhost:3000/assets/rpc-composable.min.js&#x27;</span>);

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">provide</span>: {
            useRPC,
        },
    };
});
</code></pre>
             </div>
<h3>Using Composables in a Page</h3>
<p><strong>pages/index.vue</strong></p>
<div class="code-block-container">
                <button class="copy-code-btn" onclick="copyToClipboard(this)" title="Copy">
                    <i class="fa-regular fa-clone"></i>
                </button>
                <pre><code class="hljs language-html" lang="html""><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ example }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;fetchData&quot;</span>&gt;</span>Fetch Data<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">
<span class="hljs-keyword">import</span> { useNuxtApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;#app&#x27;</span>;

<span class="hljs-keyword">const</span> { useRPC } = <span class="hljs-title function_">useNuxtApp</span>();
<span class="hljs-keyword">const</span> rpc = <span class="hljs-title function_">useRPC</span>();

<span class="hljs-keyword">const</span> example = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;Hello, Nuxt with RPC!&quot;</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> rpc.<span class="hljs-title class_">GetAllTaskRequest</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Fetched data:&quot;</span>, data);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
             </div>
<h2>Recommendations</h2><a id="recommendations" title="Recommendations"></a>
<ul>
<li>Use <code>vite</code> for development and production builds.</li>
<li>Utilize <code>@cmmv/vue</code> composables for efficient communication with CMMV backend services.</li>
<li>Follow best practices for Vue 3 development, leveraging reactivity and composables to simplify your application architecture.</li>
</ul>
