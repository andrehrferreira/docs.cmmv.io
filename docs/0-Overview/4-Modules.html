<h1>Modules</h1><a id="modules" title="Modules"></a>
<p>The CMMV module system is similar to NestJS but without dependency context control. Any provider can be created as a service and added to modules, and they are indexed and instantiated when required by controllers or gateways. For generic services used across the system, it’s recommended to use singleton registries, making them accessible without dependency injection. Examples include the Repository or Config classes, which don’t need to be instantiated in every module, providing a more streamlined approach to managing shared services throughout the system.</p>
<p>Here’s an example of a full-featured module with all possible properties in CMMV:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@cmmv/core&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DocsController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./docs.controller&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DocsService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./docs.service&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DocsTranspile</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./docs.transpile&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DocsContract</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./docs.contract&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SubModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./submodule&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-title class_">DocsModule</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Module</span>({
    <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">DocsController</span>],
    <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">DocsService</span>],
    <span class="hljs-attr">transpilers</span>: [<span class="hljs-title class_">DocsTranspile</span>],
    <span class="hljs-attr">submodules</span>: [<span class="hljs-title class_">SubModule</span>],
    <span class="hljs-attr">contracts</span>: [<span class="hljs-title class_">DocsContract</span>]
});
</code></pre>
<ul>
<li><strong>controllers</strong>: Contains all controllers for the module.</li>
<li><strong>providers</strong>: Services or other injectable classes.</li>
<li><strong>transpilers</strong>: List of transpilers for processing.</li>
<li><strong>submodules</strong>: Allows nested modules.</li>
<li><strong>contracts</strong>: Contracts related to this module.</li>
</ul>
<h1>Application</h1><a id="application" title="Application"></a>
<p>Whenever contracts are defined, the system will automatically create a module at /src/app.module.ts. This module will include all contracts, controllers, and gateways automatically generated by the application. Here is an example of how the file might be generated:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Generated automatically by CMMV</span>
    
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@cmmv/core&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TaskController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./controllers/task.controller&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TaskService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./services/task.service&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TaskGateway</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./gateways/task.gateway&#x27;</span>;
    
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-title class_">ApplicationModule</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Module</span>({
    <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">TaskController</span>],
    <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">TaskService</span>, <span class="hljs-title class_">TaskGateway</span>]
});
</code></pre>
<p>It is important to note that the file /src/app.module.ts is automatically generated by the system and should not be manually modified, as it will be recreated every time the application is started. Any changes made directly to this file will be overwritten. If you need to add or modify modules, services, or controllers, it is recommended to do so in separate files and register them properly within the application to ensure your modifications are preserved.</p>
