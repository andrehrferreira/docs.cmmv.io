<h1>Settings</h1><a id="settings" title="Settings"></a>
<p>The system configuration for a CMMV project is managed through a <code>.cmmv.config.js</code> file in the root directory. This file defines various settings, such as:</p>
<ul>
<li><strong>Server Settings:</strong> Configures the host and port for the application.</li>
<li><strong>I18n:</strong> Manages internationalization with locale files and default languages.</li>
<li><strong>Repository:</strong> Defines the database type (e.g., SQLite) and connection details.</li>
<li><strong>Head Configuration:</strong> Sets HTML attributes, meta tags, and links for the application’s frontend.</li>
<li><strong>Headers:</strong> Security policies like Content-Security-Policy.</li>
<li><strong>Scripts:</strong> Specifies JavaScript files to load.</li>
</ul>
<p>Modules can extend this configuration based on the application’s requirements.</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
    <span class="hljs-attr">server</span>: {
        <span class="hljs-attr">host</span>: <span class="hljs-string">&quot;0.0.0.0&quot;</span>,
        <span class="hljs-attr">port</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>
    },

    <span class="hljs-attr">i18n</span>: {
        <span class="hljs-attr">localeFiles</span>: <span class="hljs-string">&quot;./src/locale&quot;</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-string">&quot;en&quot;</span>
    },

    <span class="hljs-attr">head</span>: {
        <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Documentation | CMMV - A minimalistic Node.js framework&quot;</span>,
        <span class="hljs-attr">htmlAttrs</span>: {
            <span class="hljs-attr">lang</span>: <span class="hljs-string">&quot;pt-br&quot;</span>
        },
        <span class="hljs-attr">meta</span>: [
            { <span class="hljs-attr">charset</span>: <span class="hljs-string">&#x27;utf-8&#x27;</span> },
            { <span class="hljs-string">&quot;http-equiv&quot;</span>: <span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span> },
            { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;viewport&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;width=device-width, initial-scale=1&#x27;</span> },
            { <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;robots&quot;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;noodp&quot;</span> }
        ],
        <span class="hljs-attr">link</span>: [
            { <span class="hljs-attr">rel</span>: <span class="hljs-string">&#x27;icon&#x27;</span>, <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;/assets/favicon/favicon.ico&#x27;</span> },
            { <span class="hljs-attr">rel</span>: <span class="hljs-string">&quot;dns-prefetch&quot;</span>, <span class="hljs-attr">href</span>: <span class="hljs-string">&quot;https://docs.cmmv.io&quot;</span> },
            { <span class="hljs-attr">rel</span>: <span class="hljs-string">&quot;preconnect&quot;</span>, <span class="hljs-attr">href</span>: <span class="hljs-string">&quot;https://docs.cmmv.io&quot;</span> },    
            { <span class="hljs-attr">rel</span>: <span class="hljs-string">&quot;stylesheet&quot;</span>, <span class="hljs-attr">href</span>: <span class="hljs-string">&quot;/assets/docs.css&quot;</span> }            
        ]
    },

    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">&quot;Content-Security-Policy&quot;</span>: [
            <span class="hljs-string">&quot;default-src &#x27;self&#x27;&quot;</span>,
            <span class="hljs-string">&quot;script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; &#x27;unsafe-inline&#x27;&quot;</span>,
            <span class="hljs-string">&quot;style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;&quot;</span>,
            <span class="hljs-string">&quot;font-src &#x27;self&#x27;&quot;</span>
        ]
    },

    <span class="hljs-attr">scripts</span>: [
        { <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;text/javascript&quot;</span>, <span class="hljs-attr">src</span>: <span class="hljs-string">&#x27;/assets/bundle.min.js&#x27;</span>},
    ]
};
</code></pre>
<p>The default HTTP renderer in CMMV natively supports internationalization, SEO configuration, and security-focused custom headers. These features allow developers to manage localized content, improve search engine optimization, and apply security policies like Content-Security-Policy directly in the configuration. Additional settings for templates and views can also be added later, providing flexibility for customizing pages. More detailed instructions can be found in the “View” documentation, which explains how to implement these configurations within the template system.</p>
<h2>API</h2><a id="api" title="API"></a>
<p>The system configurations in a CMMV-based application can be accessed programmatically through the Config class from the <code>@cmmv/core</code> module. This allows developers to dynamically retrieve, modify, or delete configuration values throughout the application. For example, the server’s host and port settings, database configurations, or internationalization options can be accessed and altered by calling methods like Config.get(), Config.set(), and Config.has(). These features enable a flexible and centralized approach to managing system settings.</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Config</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@cmmv/core&quot;</span>;

<span class="hljs-comment">//Get</span>
<span class="hljs-keyword">const</span> serverPort = <span class="hljs-title class_">Config</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-string">&#x27;server.port&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Server running on port: <span class="hljs-subst">${serverPort}</span>`</span>);

<span class="hljs-comment">//Set</span>
<span class="hljs-title class_">Config</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;server.host&#x27;</span>, <span class="hljs-string">&#x27;127.0.0.1&#x27;</span>);

<span class="hljs-comment">//Delete</span>
<span class="hljs-title class_">Config</span>.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&#x27;repository.logging&#x27;</span>);

<span class="hljs-comment">//Get All</span>
<span class="hljs-keyword">const</span> allConfig = <span class="hljs-title class_">Config</span>.<span class="hljs-title function_">getAll</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(allConfig);

<span class="hljs-comment">//Assign</span>
<span class="hljs-title class_">Config</span>.<span class="hljs-title function_">assign</span>({
    <span class="hljs-attr">server</span>: { <span class="hljs-attr">port</span>: <span class="hljs-number">4000</span> },
    <span class="hljs-attr">repository</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;sqlite&#x27;</span> }
});
</code></pre>
<p>Each module in the CMMV system has its own set of configurations that can be added to the central configuration file (.cmmv.config.js). This allows developers to customize the behavior and features of the modules they are using. Because different modules may require specific settings, it’s essential to review each module’s documentation carefully to understand the available configuration options and how they integrate with the core system. This ensures optimal setup and use of advanced functionalities such as RPC, authentication, caching, and more.</p>
