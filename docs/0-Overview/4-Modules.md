# Modules

The CMMV module system is similar to NestJS but without dependency context control. Any provider can be created as a service and added to modules, and they are indexed and instantiated when required by controllers or gateways. For generic services used across the system, it's recommended to use singleton registries, making them accessible without dependency injection. Examples include the Repository or Config classes, which don’t need to be instantiated in every module, providing a more streamlined approach to managing shared services throughout the system.

Here’s an example of a full-featured module with all possible properties in CMMV:

```typescript
import { Module } from '@cmmv/core';
import { DocsController } from './docs.controller';
import { DocsService } from './docs.service';
import { DocsTranspile } from './docs.transpile';
import { DocsContract } from './docs.contract';
import { SubModule } from './submodule';

export let DocsModule = new Module({
    controllers: [DocsController],
    providers: [DocsService],
    transpilers: [DocsTranspile],
    submodules: [SubModule],
    contracts: [DocsContract]
});
```

* **controllers**: Contains all controllers for the module.
* **providers**: Services or other injectable classes.
* **transpilers**: List of transpilers for processing.
* **submodules**: Allows nested modules.
* **contracts**: Contracts related to this module.

# Application

Whenever contracts are defined, the system will automatically create a module at /src/app.module.ts. This module will include all contracts, controllers, and gateways automatically generated by the application. Here is an example of how the file might be generated:

```typescript
// Generated automatically by CMMV
    
import { Module } from '@cmmv/core';
import { TaskController } from './controllers/task.controller';
import { TaskService } from './services/task.service';
import { TaskGateway } from './gateways/task.gateway';
    
export let ApplicationModule = new Module({
    controllers: [TaskController],
    providers: [TaskService, TaskGateway]
});
```

It is important to note that the file /src/app.module.ts is automatically generated by the system and should not be manually modified, as it will be recreated every time the application is started. Any changes made directly to this file will be overwritten. If you need to add or modify modules, services, or controllers, it is recommended to do so in separate files and register them properly within the application to ensure your modifications are preserved.