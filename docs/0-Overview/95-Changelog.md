# Changelog

## Version 0.7.5 (December 10, 2024)

### Additions

- **`@cmmv/testing` Module**:  
  Introduced a new module to simplify testing CMMV applications, providing utilities for mocking modules, services, and contracts.

- **Configuration Validator**:  
  Added a validation system for application configurations, ensuring correctness and consistency across environments.

- **Schema for Configurations**:  
  Introduced schema definitions for validating and structuring configurations in a standardized format.

### Improvements

- **Refactored Core Modules**:  
  Simplified core modules for improved maintainability, reducing complexity while retaining all essential functionality.

- **Pagination, Sorting, and Ordering**:  
  Added built-in support for pagination, ordering, and sorting to GET routes and gateways, streamlining data retrieval and API design.

- **Dependency Cleanup**:  
  Removed unused dependencies and legacy functions, reducing the framework's footprint and improving overall efficiency.

- **Modular HTTP Adapters**:  
  The Express and Fastify modules, previously integrated into `@cmmv/http`, have been decoupled into standalone modules:  
  - `@cmmv/express`  
  - `@cmmv/fastify`  
  This change reduces the dependency footprint of the core, allowing developers to choose and install only the HTTP adapter they need.

### Removals

- **Vue and TailwindCSS Integration**:  
  Vue and TailwindCSS were removed from the core module. Use Vite for frontend asset management and the `@cmmv/vue` module for Vue-specific integrations.

### Recommendations

- **Vite Integration**:  
  Leverage Vite for modern frontend development workflows, including Vue and TailwindCSS.

- **`@cmmv/vue` Module**:  
  Utilize the `@cmmv/vue` module to generate RPC mixins and composables for seamless Vue integration.

### Updates

- **Documentation**:  
  Revised and expanded documentation to reflect the new features, removals, and recommended practices.

## Version 0.6.0 (November 26, 2024)

### New Features

- **Inspector Module**:  
  Added the `@cmmv/inspector` module for debugging and monitoring CMMV applications. The module provides runtime insights, performance profiling, and analysis of critical bottlenecks.
  
### Improvements

- **Performance Optimization**:  
  Using insights from the Inspector module's profiling, critical server-side functions were optimized. This resulted in a performance increase from an average of 71.1k to 79k requests per second in benchmark tests, an improvement of approximately 8-10% in response times.
- **Documentation Update**:  
  Updated documentation to include the new Inspector module and its usage in the ecosystem.
- **Benchmark Revamp**:  
  Re-performed and documented benchmarks with the optimized server, reflecting the improved performance metrics.

### Changes

- **Removed Fast-JSON-Stringify from Samples**:  
  Removed `fast-json-stringify` from samples as the schema needs to be processed during application startup. This feature will be revisited and potentially optimized in future releases.

### Notes for Upcoming Versions

- Plan to integrate schema processing during the application's startup to improve the usability of `fast-json-stringify` without performance degradation.

## Version 0.5.5 (November 16, 2024)

### New Features

- **Vite Middleware Integration**:  
  Added Vite as a middleware to serve static files during development, improving Vue 3 integration and the development experience.
- **RPC Mixins for Vue 3 and Nuxt**:  
  Introduced RPC mixins generated from CMMV contracts for seamless Vue 3 and Nuxt integration.
- **Complete RPC Implementation**:  
  Implemented full RPC support for Vue and Nuxt, enabling dynamic contract-based client-server communication.
- **Vue 3 + TailwindCSS Import Support**:  
  Enhanced the `view` module to support Vue 3 and TailwindCSS imports for modern frontend development workflows.

### Improvements

- **Fast-JSON-Stringify**:  
  Replaced standard JSON serialization with `fast-json-stringify`, significantly improving serialization performance.
- **Switch to Vitest**:  
  Migrated from Mocha to Vitest for faster, more modern testing and improved TypeScript integration.
- **Sample To-Do List Application**:  
  Added a fully functional To-Do List example showcasing Vue 3, Vite, and RPC mixins generated by CMMV.

### Bug Fixes

- **MongoDB Repository Fixes**:  
  Resolved critical bugs in the `repository` module for MongoDB, ensuring stable database interactions.
- **Deprecated Dependency Updates**:  
  Updated deprecated dependencies across the framework, improving compatibility and removing security warnings.
- **View Module Enhancements**:  
  Fixed issues with static imports in the `view` module to better handle Vue 3 and TailwindCSS assets.

### Dependency Updates
- Updated dependencies across the framework, ensuring compatibility with the latest ecosystem versions and tools.


## Version 0.5.0 (November 5, 2024)

### **Added**
- **Vue 3 Support**: Full implementation of Vue 3, configurable via `.cmmv.config.js`, enabling usage of Vue 3 syntax. Integrated SSR configurations for optimized performance.
- **Dynamic Layout and View Loading**: Added support for dynamic loading of layouts and views, including integration with Vite to efficiently serve `.vue` files.
- **Data Binding and Setup Configuration**: Introduced `s-setup` for configuring scripts and reactive data in views, with support for lifecycle hooks such as `mounted` and `created`.
- **New Lifecycle Hooks**: Added `mounted` and `created` hooks in view setup scripts, providing flexibility for executing code when the view is loaded.
- **Include Directive**: A new directive for modularly importing and reusing view components across different pages.
- **Telemetry Service**: Added a `Telemetry` class to monitor performance and capture runtime metrics across the system.
- **Method Injection**: RPC functions are now automatically injected as methods in Vue components, simplifying remote function calls in the frontend.

### **Changed**
- **Improved View Rendering**: Optimized the view rendering system with HTML minification and inline script extraction to enhance performance.
- **Enhanced Error Handling**: Improved error handling to ensure proper logging of failures with more informative error messages.

## Version 0.4.0 (October 15, 2024)

### **Added**
- **RPC Support with Protobuf**: Introduced integration for Protobuf to enable binary communication through WebSocket, enhancing real-time capabilities.
- **WebSocket Adapter**: Added WebSocket support with a dedicated adapter for real-time communication, including contract-based RPC generation.
- **Caching Module**: Integrated the caching module (`@cmmv/cache`) for high-performance data storage, supporting Redis and in-memory options.
- **Repository Module**: Added support for repository-based database management with integration for TypeORM and MongoDB.
- **Contract-Based Auto-Generation**: Controllers, entities, and services are now automatically generated from TypeScript contracts, reducing boilerplate code.
- **Dynamic Configuration**: Added support for dynamic configuration using `.cmmv.config.js`, allowing runtime adjustments without modifying source code.

### **Changed**
- **Improved CLI**: Enhanced the CLI to simplify project initialization, with customizable settings for RPC, caching, and repositories.
- **Streamlined Directory Structure**: Revised the default project structure for better organization, separating public assets, views, and templates.
- **Improved Module Integration**: Refined integration of modules like `@cmmv/repository` and `@cmmv/view` to ensure seamless compatibility with auto-generated components.

### **Fixed**
- Resolved issues with contract validation during application startup.
- Fixed database synchronization bugs for SQLite and MongoDB configurations.

## Version 0.3.5 (September 28, 2024)

### **Features**
- **Contract Generator**: Automates the creation of contracts between server and client, ensuring consistent API interfaces and reducing manual coding efforts.
- **Enhanced WebSocket Support**: Implemented WebSocket integration for real-time RPC communications using Protobuf, optimizing data transmission efficiency and reliability.

### **Improvements**
- **Performance Optimization**: Significant improvements in processing time for contract generation and execution, reducing latency in high-load scenarios.
- **Modular Design**: Restructured the core framework to support better module isolation, enabling easier extension or modification without impacting the entire system.
- **Scalability Enhancements**: Fine-tuned the core system to handle increased traffic and larger data payloads with minimal performance impact.

### **Bug Fixes**
- **Lint Corrections**: Addressed all linting issues across the codebase to ensure clean and maintainable code.
- **Test Fixes**: Resolved various issues to improve the reliability of unit and integration tests.
- **WebSocket Import Fix**: Corrected import issues in the WebSocket module to ensure proper initialization and functionality.
- **CircleCI Configuration**: Integrated and fixed issues with CircleCI for continuous integration and deployment pipelines.
- **Miscellaneous Fixes**: Various minor bug fixes and code improvements throughout the framework.

### **Documentation and Examples**
- **Advanced Contract Setup**: Updated documentation for advanced contract configuration and API generation, providing clearer and more detailed examples for developers.

### **Testing and Quality**
- **Expanded Test Coverage**: Added unit tests for critical modules to improve the overall stability and reliability of the framework.
- **Stress Testing**: Simulated high-traffic environments to validate the robustness of real-time communication and ensure scalability under load.
