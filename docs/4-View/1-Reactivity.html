<h1>Reactivity</h1><a id="reactivity" title="Reactivity"></a>
<p>The <code>@cmmv/reactivity</code> module was created based on the core ideas of <a href="https://github.com/vuejs/petite-vue" target="_blank" rel="nofollow">Petite Vue</a>, a simplified version of Vue.js. Petite Vue, developed by Evan You, the creator of Vue.js, offers a lightweight alternative to the full Vue framework, providing only the essential reactivity and templating features needed for smaller or simpler projects. Petite Vue is just <code>6KB</code> in size and implements basic directives, making it an excellent foundation for building minimal reactive systems.</p>
<p>Inspired by Petite Vue’s design philosophy, <code>@cmmv/reactivity</code> integrates this lightweight, reactive approach into the CMMV framework. By doing so, it offers developers the ability to use two-way data binding and efficient UI updates with minimal overhead. The core reactivity engine from Petite Vue has been adapted to fit seamlessly into the CMMV ecosystem, allowing for easy integration with server-side rendering, WebSockets, Protobuf, and other key modules of CMMV.</p>
<p>With this combination, <code>@cmmv/reactivity</code> provides an optimal balance of simplicity and performance, making it ideal for building dynamic user interfaces while keeping the overall bundle size minimal. It is well-suited for developers who prefer a lightweight, Vue-inspired reactivity system without the complexity of a full-featured framework.</p>
<p>For more information on Petite Vue, you can visit the official <a href="https://github.com/vuejs/petite-vue" target="_blank" rel="nofollow">Petite Vue repository</a>.</p>
<h2>Limitations</h2><a id="limitations" title="Limitations"></a>
<p>The primary goal of the CMMV framework is to build high-performance applications with a strong focus on speed, efficiency, and SEO optimization. To achieve this, we highly recommend using <code>@cmmv/reactivity</code> as the frontend framework rather than incorporating heavier frameworks like Vue, React, or Angular. @cmmv/reactivity is designed to handle most of the common challenges faced in web applications, providing essential reactivity features in a lightweight package that minimizes the impact on your application’s load times and performance.</p>
<p>By choosing <code>@cmmv/reactivity</code>, you can ensure that your application remains fast and optimized for both users and search engines. Adding larger frameworks such as Vue, React, or Angular introduces additional layers of JavaScript that can increase the page’s initial load time, potentially harming your PageSpeed score and overall performance. This goes against the core principles of CMMV, which aims to reduce unnecessary overhead.</p>
<p>If you find that certain critical features are missing from <code>@cmmv/reactivity</code>, we encourage you to submit a pull request to the repository. We’re open to suggestions and contributions that improve the framework while keeping it aligned with CMMV’s performance goals.</p>
<p>In extreme cases where heavier frameworks like Vue, React, or Angular are necessary, we will eventually provide native support for their integration. However, we strongly advise against this approach due to the performance trade-offs. Any implementation of these frameworks will be at your own risk, and we will not offer official support for such setups—our focus will remain exclusively on optimizing <code>@cmmv/reactivity</code> for the best possible user experience and SEO results.</p>
<h2>Installation</h2><a id="installation" title="Installation"></a>
<p>To install the <code>@cmmv/reactivity</code> package, simply run the following command:</p>
<pre><code class="hljs language-bash" lang="bash">$ npm install @cmmv/reactivity
</code></pre>
<p>or</p>
<pre><code class="hljs language-bash" lang="bash">$ yarn add @cmmv/reactivity
</code></pre>
<p>Alternatively, you can visit the <a href="https://github.com/andrehrferreira/cmmv-reactivity" target="_blank" rel="nofollow">GitHub repository</a> for more details.</p>
<p>The <code>@cmmv/view</code> module already integrates reactivity natively, so it does not need to be installed separately.</p>
<h2>Usage</h2><a id="usage" title="Usage"></a>
<p>Below is the documentation for all directives supported by <code>@cmmv/reactivity</code> based on the samples provided in the CMMV Reactivity GitHub repository.</p>
<h2>c-model</h2><a id="c-model" title="c-model"></a>
<p>Binds the value of an input element to the application’s data and enables two-way data binding. This is useful for dynamically updating the UI as users input data.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">c-model</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Username: {{ username }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p><a href="https://github.com/andrehrferreira/cmmv-reactivity/blob/main/samples/model.html" target="_blank" rel="nofollow">Sample</a> :</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>

  <span class="hljs-title function_">createApp</span>().<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>
  <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;{
    text: &#x27;hello&#x27;,
    checked: true,
    checkToggle: { a: 1 },
    trueValue: { a: 1 },
    falseValue: { a: 2 },
    arr: [&#x27;one&#x27;],
    radioSelected: &#x27;two&#x27;,
    selected: &#x27;two&#x27;
  }&quot;</span>
&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>{{ $data }}<span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Text Input<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  {{ text }}
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.trim</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>TextArea<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  {{ text }}
  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">v-model.trim</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checked&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span>{{ checked }}<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Checkbox w/ Array<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;arr&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;one&quot;</span> /&gt;</span> one<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;arr&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;two&quot;</span> /&gt;</span> two<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>
    &gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;arr&quot;</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;123&quot;</span> /&gt;</span> actual number&lt;/label
  &gt;
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ arr }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Checkbox w/ true-value / false-value<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
    <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checkToggle&quot;</span>
    <span class="hljs-attr">:true-value</span>=<span class="hljs-string">&quot;trueValue&quot;</span>
    <span class="hljs-attr">:false-value</span>=<span class="hljs-string">&quot;falseValue&quot;</span>
  /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ checkToggle }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Radio<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioSelected&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;one&quot;</span> /&gt;</span> one<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioSelected&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;two&quot;</span> /&gt;</span> two<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>
    &gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioSelected&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;three&quot;</span> /&gt;</span> three&lt;/label
  &gt;
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ radioSelected }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Select<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">&quot;console.log(selected, $event.target.value)&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>one<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>two<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>three<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ selected }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>In this example, the input’s value is bound to the username field in the data model. Changes in the input will be reflected in the username property.</p>
<h2>c-show</h2><a id="c-show" title="c-show"></a>
<p>Controls the visibility of elements based on a condition. If the condition evaluates to false, the element will be hidden.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">c-show</span>=<span class="hljs-string">&quot;isLoggedIn&quot;</span>&gt;</span>Welcome back, user!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<h2>c-if</h2><a id="c-if" title="c-if"></a>
<p>Conditionally renders an element only if the specified expression is true. Unlike c-show, this directive removes the element from the DOM if the condition is false.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">c-if</span>=<span class="hljs-string">&quot;showMessage&quot;</span>&gt;</span>This message is shown only if showMessage is true.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p><a href="https://github.com/andrehrferreira/cmmv-reactivity/blob/main/samples/if.html" target="_blank" rel="nofollow">Sample</a>:</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>
  <span class="hljs-title function_">createApp</span>().<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;{ open: true, elseOpen: true }&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;open = !open&quot;</span>&gt;</span>toggle<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;elseOpen = !elseOpen&quot;</span>&gt;</span>toggle else<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">c-if</span>=<span class="hljs-string">&quot;open&quot;</span>&gt;</span>ok<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">c-else-if</span>=<span class="hljs-string">&quot;elseOpen&quot;</span>&gt;</span>else if<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">c-else</span>&gt;</span>else<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>c-for</h2><a id="c-for" title="c-for"></a>
<p>Loops through an array or object and repeats the associated element for each item.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">c-for</span>=<span class="hljs-string">&quot;item in items&quot;</span>&gt;</span>{{ item }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p><a href="https://github.com/andrehrferreira/cmmv-reactivity/blob/main/samples/for.html" target="_blank" rel="nofollow">Sample</a>:</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>
  
    <span class="hljs-keyword">let</span> id = <span class="hljs-number">4</span>
    <span class="hljs-title function_">createApp</span>({
      <span class="hljs-attr">list</span>: [
        { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;bar&#x27;</span> },
        { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;boo&#x27;</span> },
        { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;baz&#x27;</span> },
        { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;bazz&#x27;</span> }
      ],
      <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">id</span>: ++id, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;new item&#x27;</span> });
      },
      <span class="hljs-title function_">splice</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, { <span class="hljs-attr">id</span>: ++id, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;new item&#x27;</span> })
      }
    }).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span> <span class="hljs-attr">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;list.reverse()&quot;</span>&gt;</span>reverse<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;list.pop()&quot;</span>&gt;</span>pop<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;splice&quot;</span>&gt;</span>splice<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">c-for</span>=<span class="hljs-string">&quot;({ id, text }, index) in list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ index }} {{ { id, text } }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
  
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">c-for</span>=<span class="hljs-string">&quot;item of list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">c-model</span>=<span class="hljs-string">&quot;item.text&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>c-on</h2><a id="c-on" title="c-on"></a>
<p>Attaches an event listener to an element. Commonly used for handling click events, form submissions, or other user interactions.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">c-on:click</span>=<span class="hljs-string">&quot;incrementCounter&quot;</span>&gt;</span>Click me!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;incrementCounter&quot;</span>&gt;</span>Click me!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p><a href="https://github.com/andrehrferreira/cmmv-reactivity/blob/main/samples/on.html" target="_blank" rel="nofollow">Sample</a>:</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>
  <span class="hljs-title function_">createApp</span>().<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">input</span>
		<span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>
		@<span class="hljs-attr">keyup.x</span>=<span class="hljs-string">&quot;alert(&#x27;yo&#x27;)&quot;</span>
		<span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;type x to test key modifier&quot;</span>
	/&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> @<span class="hljs-attr">click.prevent.stop</span>&gt;</span>submit (prevented)<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.right</span>=<span class="hljs-string">&quot;alert(&#x27;clicked&#x27;)&quot;</span>&gt;</span>right click<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.middle</span>=<span class="hljs-string">&quot;alert(&#x27;clicked&#x27;)&quot;</span>&gt;</span>middle click<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.once</span>=<span class="hljs-string">&quot;alert(&#x27;clicked&#x27;)&quot;</span>&gt;</span>click once<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>c-bind</h2><a id="c-bind" title="c-bind"></a>
<p>Dynamically binds an attribute to an expression. This is often used to modify attributes like src, href, or class.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;imageSource&quot;</span>&gt;</span>
</code></pre>
<p><a href="https://github.com/andrehrferreira/cmmv-reactivity/blob/main/samples/bind.html" target="_blank" rel="nofollow">Sample</a>:</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-id">#green</span> {
        <span class="hljs-attribute">color</span>: green;
    }

    <span class="hljs-selector-class">.red</span> {
        <span class="hljs-attribute">color</span>: red;
    }

    <span class="hljs-selector-class">.orange</span> {
        <span class="hljs-attribute">color</span>: orange;
    }

    <span class="hljs-selector-class">.static</span> {
        <span class="hljs-attribute">font-weight</span>: bold;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">import</span> { createApp, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>

    <span class="hljs-keyword">const</span> data = (<span class="hljs-variable language_">window</span>.<span class="hljs-property">data</span> = <span class="hljs-title function_">reactive</span>({
        <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;green&#x27;</span>,
        <span class="hljs-attr">classes</span>: [<span class="hljs-string">&#x27;foo&#x27;</span>, { <span class="hljs-attr">red</span>: <span class="hljs-literal">true</span> }],
        <span class="hljs-attr">style</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;blue&#x27;</span> },
        <span class="hljs-attr">obj</span>: { <span class="hljs-attr">class</span>: <span class="hljs-string">&#x27;orange&#x27;</span> }
    }))

    <span class="hljs-title function_">createApp</span>(data).<span class="hljs-title function_">mount</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:id</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span>simple binding - this should be green<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;static&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;classes&quot;</span>&gt;</span>
        class binding - this should be red and bold
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-weight: bold&quot;</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;style&quot;</span>&gt;</span>
        style binding - this should be blue and bold
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">c-bind</span>=<span class="hljs-string">&quot;obj&quot;</span>&gt;</span>object binding - this should be orange<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>c-text</h2><a id="c-text" title="c-text"></a>
<p>Dynamically sets the text content of an element.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;{ count: 1 }&quot;</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">c-text</span>=<span class="hljs-string">&quot;count&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;count++&quot;</span>&gt;</span>increase<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>c-html</h2><a id="c-html" title="c-html"></a>
<p>Inserts raw HTML content into an element.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">c-html</span>=<span class="hljs-string">&quot;htmlContent&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>c-class</h2><a id="c-class" title="c-class"></a>
<p>Dynamically binds one or more CSS classes to an element.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">c-class</span>=<span class="hljs-string">&quot;{ active: isActive, disabled: isDisabled }&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>In this example, if isActive is true, the active class is added, and if isDisabled is true, the disabled class is added.</p>
<h2>c-once</h2><a id="c-once" title="c-once"></a>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>
  <span class="hljs-title function_">createApp</span>().<span class="hljs-title function_">mount</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;{ count: 5 }&quot;</span>&gt;</span>
    {{ count }}
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">c-once</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Once<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {{ count }}
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">c-text</span>=<span class="hljs-string">&quot;count&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in count&quot;</span>&gt;</span>{{ i }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">c-text</span>=<span class="hljs-string">&quot;count&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;count++&quot;</span>&gt;</span>++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2>ref</h2><a id="ref" title="ref"></a>
<p>In the @cmmv/reactivity framework, the ref system allows you to easily reference DOM elements within the template and manipulate them in your JavaScript logic. This concept is crucial for managing DOM elements directly when reactive bindings alone are not enough. By associating a ref with an element, you can interact with the DOM directly from the reactive context of your application.</p>
<p>Key Benefits of Using ref:<br>
Direct DOM Access: It allows you to interact directly with DOM elements, which is sometimes necessary for operations that cannot be purely reactive.<br>
Dynamic Ref Assignment: You can dynamically change the target element assigned to a ref at runtime.<br>
Scoped Refs: The system supports nested scopes, meaning you can define refs within a specific context without affecting the global references.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { createApp, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>
  <span class="hljs-title function_">createApp</span>().<span class="hljs-title function_">mount</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>
  <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;root&quot;</span>
  <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;{ dynamicRef: &#x27;x&#x27;, show: true }&quot;</span>
  <span class="hljs-attr">c-effect</span>=<span class="hljs-string">&quot;console.log({ x: $refs.x, y: $refs.y, input: $refs.input })&quot;</span>
&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Accessing root el: id is {{ $refs.root.id }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;input&quot;</span> /&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;show&quot;</span> <span class="hljs-attr">:ref</span>=<span class="hljs-string">&quot;dynamicRef&quot;</span>&gt;</span>Span with dynamic ref<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>dynamicRef is {{ dynamicRef }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;dynamicRef = dynamicRef === &#x27;x&#x27; ? &#x27;y&#x27; : &#x27;x&#x27;&quot;</span>&gt;</span>
		change dynamicRef
	<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;show = !show&quot;</span>&gt;</span>toggle<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">scope</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;x&quot;</span>&gt;</span>nested scope ref<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">button</span>
		@<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;console.log({ x: $refs.x, y: $refs.y, input: $refs.input })&quot;</span>
		&gt;</span>
		log nested scope refs
		<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ul>
<li>
<p><strong>Static Ref Assignment:</strong> The ref attribute binds an element to a key in the $refs object. In the example above, the element <code>input ref=&quot;input&quot;</code> is now accessible via $refs.input in your JavaScript code.</p>
</li>
<li>
<p><strong>Accessing Ref Values:</strong> The c-effect directive is used to log the values of the refs whenever the component is re-rendered or when its state changes. For example, c-effect=“console.log({ x: $refs.x, y: $refs.y, input: $refs.input })” logs the current values of x, y, and input.</p>
</li>
<li>
<p><strong>Dynamic Ref Assignment:</strong> You can dynamically change which element is referenced by using a reactive variable. For example, the <span> element uses :ref=“dynamicRef”, which means the ref value can change based on the value of dynamicRef. The button with the text “change dynamicRef” toggles the reference between x and y.</p>
</li>
<li>
<p><strong>Scoped Refs:</strong> The <div scope> element defines a nested scope, which means the ref=“x” inside it refers to a local element. The $refs object will adjust to the scope context, providing an isolated reference within that scope.</p>
</li>
<li>
<p><strong>Toggling Visibility:</strong> The c-show=“show” directive toggles the visibility of the <span>, but the ref still holds the reference to the element, even when it is hidden.</p>
</li>
</ul>
<h2>Components</h2><a id="components" title="Components"></a>
<p>The @cmmv/reactivity framework allows you to create lightweight and reactive components in your application without the overhead of traditional frameworks. The example provided demonstrates how you can define and use a simple component using createApp, reactive, and templates.</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">import</span> { createApp, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../src&#x27;</span>
  
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComp</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">$template</span>: <span class="hljs-string">&#x27;#comp&#x27;</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
        <span class="hljs-keyword">get</span> <span class="hljs-title function_">plusOne</span>() {
          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span>
        }
      }
    }
  
    <span class="hljs-title function_">createApp</span>({ <span class="hljs-title class_">MyComp</span> }).<span class="hljs-title function_">mount</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;comp&quot;</span>&gt;</span>
    {{ count }} {{ plusOne }}
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;count++&quot;</span>&gt;</span>++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;MyComp()&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>Component Setup:</strong></p>
<ul>
<li>The <code>MyComp</code> function returns the component’s data and computed properties.</li>
<li>The <code>$template</code> points to the HTML template that will render this component.</li>
</ul>
<p><strong>Reactive Data:</strong></p>
<ul>
<li><code>count</code> is a reactive property. Changing its value updates the UI automatically.</li>
<li><code>plusOne</code> is a computed property that reacts to count and displays count + 1.</li>
</ul>
<p><strong>Template:</strong></p>
<ul>
<li>The template uses <code>{{ count }}</code> and <code>{{ plusOne }}</code> to display the reactive data.</li>
<li>Clicking the button increments count and updates the displayed value.</li>
</ul>
<p><strong>Mounting:</strong></p>
<p>The <code>createApp</code> function registers the component and mounts it inside the <code>div scope=&quot;MyComp()&quot;</code> tag, which defines where the component will appear.</p>
