<div id="app">
    <nav class="navbar bg-neutral-800 h-16 top-0 w-full fixed flex z-50 shadow-lg">
        <div class="w-60">
            <a href="/" title="UCS.js">
                <img src="/assets/img/logo_invert.png" class="h-16 p-4" />
            </a>
        </div>

        <div class="justify-between text-center w-full">
            <div class="w-80 m-auto relative">
                <div class="absolute text-white z-40 top-5 left-12">
                    <i class="fa-solid fa-search"></i>
                </div>
                <div>
                    <input 
                    type="text" 
                        class="p-1.5 pl-10 mt-3 bg-neutral-700 rounded-lg text-white border border-black" 
                        placeholder="Search" 
                    />
                </div>
            </div>
        </div>

        <div class="justify-between align-middle text-center mr-2 text-white flex">
            <a href="https://github.com/andrehrferreira/cmmv" title="Github" target="_blank" class="text-2xl p-2 mt-2 hover:text-neutral-300">
                <i class="fa-brands fa-github"></i>
            </a>

            <!--<a href="https://discord.gg/XtUH9sJP" title="Discord" target="_blank" class="text-2xl p-2 mt-2 hover:text-neutral-300">
                <i class="fa-brands fa-discord"></i>
            </a>-->
        </div>
    </nav>

    <div class="w-screen h-screen ">
        <div class="w-60 bg-neutral-500 fixed top-16" style="height: calc(100% - 64px)">
            <!-- include('public/views/navbar') -->
        </div>

        <div class="mt-20 ml-64 text-justify relative" style="width: calc(100% - 240px)">
            <div class="m-4 p-4 px-20" style="width: calc(100% - 300px)">
                <!-- include('public/views/breadcrumb'); -->
                <!-- include('public/views/anchors'); -->

                <div class="content max-w-screen-lg relative text-white">
                    <div s-data="index"></div>

                    <div class="absolute top-0 right-0">
                        <a :href="`https://github.com/ucsjs/workspace/tree/main/${link}?plain=1`" target="_blank" title="Suggest change">
                            <i class="fa-solid fa-pen-to-square fa-lg"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- include('public/views/footer'); -->
        </div>
    </div>
</div>

<script s-attr="nonce">
    hljs.highlightAll();

    var $root = $('html, body');

    $('a[href^="#"]').click(function(event) {
        event.preventDefault();
        var href = $.attr(this, 'href');
        $('.current').removeClass('current');
        $(this).parent().addClass("current");

        $root.animate({
            scrollTop: $(href).position().top
        }, 500, function () {
            window.location.hash = href;
        });

        return false;
    });

    $(window).scroll(function (event) {
        var scroll = $(window).scrollTop();
        $('.current').removeClass('current');
        let repoint = false

        $("#anchors>li").each((index, value) => {
            if($($("a", value).attr('href')).position().top >= scroll && !repoint){
                repoint = true;
                $(value).addClass('current');
            }
        });
    });

    $($("#anchors>li")[0]).addClass("current");
</script>

<script s-setup>
export default {
    layout: "default"
}
</script>